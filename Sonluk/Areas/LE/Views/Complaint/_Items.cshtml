@using Sonluk.UI.Model.LE.TRA.ComplaintService
@model IEnumerable<ComplaintInfo>
@{ 
    string select = "●";
    int count = 0;
}
<table class="data-table">
    <tr>
        <td class="data-table-header">ID</td>
        <td class="data-table-header">物流公司</td>
        <td class="data-table-header">托运单</td>
        <td class="data-table-header">联系函</td>
        <td class="data-table-header">收货人</td>
        <td class="data-table-header">退回日期</td>
        <td class="data-table-header">应到日期</td>
        <td class="data-table-header">实到日期</td>
        <td class="data-table-header">延迟天数</td>
        <td class="data-table-header">投诉方式</td>
        <td class="data-table-header">包装破损</td>
        <td class="data-table-header">货物淋湿</td>
        <td class="data-table-header">包装污染</td>
        <td class="data-table-header">物料损坏</td>
        <td class="data-table-header">物料短缺</td>
        <td class="data-table-header">需要赔偿</td>
        <td class="data-table-header">处理完成</td>
        <td class="data-table-header">交货单</td>
        <td class="data-table-header">物料</td>
        <td class="data-table-header">物料描述</td>
        <td class="data-table-header">退回件数</td>
        <td class="data-table-header">退回数量</td>
        <td class="data-table-header">退回原因</td>
        <td class="data-table-header">单价</td>
        <td class="data-table-header">损坏数量</td>
        <td class="data-table-header">损坏金额</td>
        <td class="data-table-header">重工费</td>
        <td class="data-table-header">业务员</td>
        <td class="data-table-header">填写人</td>
        <td class="data-table-header">填写时间</td>
    </tr>
    @foreach (ComplaintInfo node in Model)
    {
        foreach (ComplaintItemInfo item in node.Items)
        {
            count++;
            <tr>
                <td class="text-align-right">@node.ID</td>
                <td class="text-align-left">@node.Carrier.ShortName</td>
                <td class="text-align-right">@node.ConsignmentNote</td>
                <td class="text-align-right">@node.ContactLetter</td>
                <td class="text-align-left">@node.Receiver.ShortName</td>
                <td>@node.ReturnDate</td>
                <td>@node.AppointedDeliveryDate</td>
                <td>@node.DeliveryDate</td>
                <td class="text-align-right">@node.DelayDays</td>
                <td>@node.Type</td>
                <td>@if (node.PackageDamage){ @select}</td>
                <td>@if (node.GoodsGetWet){@select}</td>
                <td>@if (node.PackagePollution){@select}</td>
                <td>@if (node.GoodsDamage){ @select}</td>
                <td>@if (node.GoodsShortage){ @select}</td>
                <td>@if (node.Compensable){ @select}</td>
                <td>@if (node.Completed){ @select}</td>
                <td>@item.Delivery</td>
                <td>@item.Material</td>
                <td class="text-align-left">@item.MaterialDescription</td>
                <td class="text-align-right">@item.ReturnWholeQty</td>
                <td class="text-align-right">@item.ReturnQty</td>
                <td class="text-align-left">@item.ReturnReason</td>
                <td class="text-align-right">@item.UnitValue</td>
                <td class="text-align-right">@item.DamageQty</td>
                <td class="text-align-right">@item.DamageValue</td>
                <td class="text-align-right">@item.ReworkValue</td>
                <td>@item.Sales</td>
                <td>@node.Creator</td>
                <td>@node.CreateDate</td>
            </tr>
        }
    }
</table>
<input type="hidden" value="@count" id="node-count">


