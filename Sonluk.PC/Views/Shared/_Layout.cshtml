@using Sonluk.UI.Model.CRM.CRM_LoginService;@{
    CRM_JURISDICTION_GROUP[] MenuInfo = null;
    if (Session["MENUINFO"] != null)
    {
        MenuInfo = (CRM_JURISDICTION_GROUP[])Session["MENUINFO"];
    }
    string name = "";
    if (Session["NAME"] != null)
    {
        name = Session["NAME"].ToString();
    }
    int loca = 0;
    if (Session["location"] != null)
    {
        loca = Convert.ToInt32(Session["location"]);
    }
}
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="renderer" content="webkit" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta charset="utf-8" />
    <title>@ViewBag.Title</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    @Styles.Render("~/Content/layui/css/login")
    @Styles.Render("~/Content/layui/css/layui")
</head>
<body>
    <body>
        <div class="layui-layout layui-layout-admin">
            <div class="layui-header">
                <div class="layui-logo"><a href="@Url.Action("Index1","Public")" class="layui-logo"><img src="~/Content/MES/IMAGES/logo.png" /></a></div>
                <ul class="layui-nav layui-layout-right">
                    <li class="layui-nav-item">
                        <a>@name</a>
                        <dl class="layui-nav-child">
                            <dd><a href="@Url.Action("SignIn", "Access", new { area = "" })">退出</a></dd>
                        </dl>
                    </li>
                </ul>
            </div>
            <div class="layui-side layui-bg-black">
                <div class="layui-side">
                    <ul class="layui-nav layui-nav-tree site-demo-nav">
                        @if (MenuInfo != null)
                        {
                            for (int i = 0; i < MenuInfo.Length; i++)
                            {
                                <li id="@MenuInfo[i].CRM_HG_RIGHTGROUP.RGROUPMEMO" class="layui-nav-item">
                                    <a class="" href="javascript:;">@MenuInfo[i].CRM_HG_RIGHTGROUP.RGROUPNAME</a>

                                    @if (MenuInfo[i].CRM_HG_RIGHTList.Length > 0)
                                    {
                                        CRM_HG_RIGHT[] child = MenuInfo[i].CRM_HG_RIGHTList;
                                        <dl class="layui-nav-child">
                                            @for (int j = 0; j < child.Length; j++)
                                            {
                                                if (string.IsNullOrEmpty(child[j].RIGHTADD) == false)
                                                {
                                                    string[] childurl = child[j].RIGHTADD.Split(',');
                                                    <dd id="@child[j].RIGHTMEMO" class=""><a href="@Url.Action(childurl[0], childurl[1], new { area = childurl[2] })">@child[j].RIGHTNAME</a></dd>
                                                }
                                            }
                                        </dl>
                                    }

                                </li>
                            }
                        }
                        @*@for (int i = 0; i < menuinfo.Length; i++)
                            {
                                <li class="layui-nav-item layui-nav-itemed">
                                    <a href="javascript:;">@menuinfo[i].Node</a>
                                    @if (menuinfo[i].Children.Length > 0)
                                    {
                                        MenuInfo[] child = menuinfo[i].Children;
                                        <dl class="layui-nav-child">
                                            @for (int j = 0; j < child.Length; j++)
                                            {
                                                if (child[j].Uri != null && child[j].Uri != "")
                                                {
                                                    string[] childuri = child[j].Uri.Split('/');
                                                    <dd><a href="@Url.Action(childuri[2], childuri[1], new { area = childuri[0] })">@child[j].Node</a></dd>
                                                }
                                            }
                                        </dl>
                                    }
                                </li>
                            }*@
                    </ul>
                </div>
            </div>
            <script>
                $(document).ready(function () {
                    switch(@loca){
                        //客户管理
                        case 1:
                            $("#khgl").addClass("layui-nav-itemed");
                            $("#insert_kehu").addClass("layui-this");
                            break;
                        case 42:
                            $("#khgl").addClass("layui-nav-itemed");
                            $("#submit_kehu").addClass("layui-this");
                            break;
                        case 2:
                            $("#khgl").addClass("layui-nav-itemed");
                            $("#select_kehu").addClass("layui-this");
                            break;
                        case 50:
                            $("#khgl").addClass("layui-nav-itemed");
                            $("#only_select_kehu").addClass("layui-this");
                            break;
                        case 3:
                            $("#khgl").addClass("layui-nav-itemed");
                            $("#sap_kehu").addClass("layui-this");
                            break;
                        case 4:
                            $("#khgl").addClass("layui-nav-itemed");
                            $("#daoru_kehu").addClass("layui-this");
                            break;
                        case 5:
                            $("#khgl").addClass("layui-nav-itemed");
                            $("#power").addClass("layui-this");
                            break;
                        case 6:
                            $("#khgl").addClass("layui-nav-itemed");
                            $("#user_power").addClass("layui-this");
                            break;
                        case 7:
                            $("#khgl").addClass("layui-nav-itemed");
                            $("#kehu_power").addClass("layui-this");
                            break;
                        case 8:
                            $("#khgl").addClass("layui-nav-itemed");
                            $("#baobiao_kehu").addClass("layui-this");
                            break;
                        case 63:
                            $("#khgl").addClass("layui-nav-itemed");
                            $("#report_kehu").addClass("layui-this");
                            break;
                            //员工管理
                        case 9:
                            $("#yggl").addClass("layui-nav-itemed");
                            $("#insert_staff").addClass("layui-this");
                            break;
                        case 10:
                            $("#yggl").addClass("layui-nav-itemed");
                            $("#select_staff").addClass("layui-this");
                            break;
                        case 11:
                            $("#yggl").addClass("layui-nav-itemed");
                            $("#daoru_staff").addClass("layui-this");
                            break;
                        case 45:
                            $("#yggl").addClass("layui-nav-itemed");
                            $("#kaoqin_manager").addClass("layui-this");
                            break;
                        case 12:
                            $("#yggl").addClass("layui-nav-itemed");
                            $("#kaoqin_confirm").addClass("layui-this");
                            break;
                            //考勤管理
                        case 13:
                            $("#kqgl").addClass("layui-nav-itemed");
                            $("#apply_qingjia").addClass("layui-this");
                            break;
                        case 46:
                            $("#kqgl").addClass("layui-nav-itemed");
                            $("#hexiao_qingjia").addClass("layui-this");
                            break;
                        case 14:
                            $("#kqgl").addClass("layui-nav-itemed");
                            $("#apply_chuchai").addClass("layui-this");
                            break;
                        case 15:
                            $("#kqgl").addClass("layui-nav-itemed");
                            $("#apply_yichang").addClass("layui-this");
                            break;
                        case 16:
                            $("#kqgl").addClass("layui-nav-itemed");
                            $("#select_kaoqin").addClass("layui-this");
                            break;
                        case 51:
                            $("#kqgl").addClass("layui-nav-itemed");
                            $("#select_kaoqin_personal").addClass("layui-this");
                            break;
                        case 43:
                            $("#kqgl").addClass("layui-nav-itemed");
                            $("#insert_chuchai").addClass("layui-this");
                            break;
                        case 44:
                            $("#kqgl").addClass("layui-nav-itemed");
                            $("#select_chuchai").addClass("layui-this");
                            break;
                        case 64:
                            $("#kqgl").addClass("layui-nav-itemed");
                            $("#retreat_chuchai").addClass("layui-this");
                            break;
                        case 60:
                            $("#kqgl").addClass("layui-nav-itemed");
                            $("#hexiao_chuchai").addClass("layui-this");
                            break;
                            //拜访管理
                        case 17:
                            $("#bfgl").addClass("layui-nav-itemed");
                            $("#plan_baifang").addClass("layui-this");
                            break;
                        case 18:
                            $("#bfgl").addClass("layui-nav-itemed");
                            $("#assign_baifang").addClass("layui-this");
                            break;
                        case 19:
                            $("#bfgl").addClass("layui-nav-itemed");
                            $("#signin_baifang").addClass("layui-this");
                            break;
                            //case 20:
                            //    $("#bfgl").addClass("layui-nav-itemed");
                            //    $("#log_baifang").addClass("layui-this");
                            //    break;
                        case 21:
                            $("#bfgl").addClass("layui-nav-itemed");
                            $("#select_baifang").addClass("layui-this");
                            break;
                        case 47:
                            $("#bfgl").addClass("layui-nav-itemed");
                            $("#manage_baifang").addClass("layui-this");
                            break;
                        case 48:
                            $("#bfgl").addClass("layui-nav-itemed");
                            $("#cx_baifang").addClass("layui-this");
                            break;
                        case 49:
                            $("#bfgl").addClass("layui-nav-itemed");
                            $("#insert_baifang").addClass("layui-this");
                            break;
                        case 56:
                            $("#bfgl").addClass("layui-nav-itemed");
                            $("#backlog").addClass("layui-this");
                            break;
                        case 57:
                            $("#bfgl").addClass("layui-nav-itemed");
                            $("#set_zxplan").addClass("layui-this");
                            break;
                        case 58:
                            $("#bfgl").addClass("layui-nav-itemed");
                            $("#set_zpplan").addClass("layui-this");
                            break;
                        case 59:
                            $("#bfgl").addClass("layui-nav-itemed");
                            $("#set_plan").addClass("layui-this");
                            break;
                        case 65:
                            $("#bfgl").addClass("layui-nav-itemed");
                            $("#cx_baifang_staff").addClass("layui-this");
                            break;

                            //活动管理
                        case 22:
                            $("#hdgl").addClass("layui-nav-itemed");
                            $("#insert_fee").addClass("layui-this");
                            break;
                        case 23:
                            $("#hdgl").addClass("layui-nav-itemed");
                            $("#select_fee").addClass("layui-this");
                            break;
                        case 62:
                            $("#hdgl").addClass("layui-nav-itemed");
                            $("#select_fee_personal").addClass("layui-this");
                            break;
                        case 24:
                            $("#hdgl").addClass("layui-nav-itemed");
                            $("#insert_saler").addClass("layui-this");
                            break;
                        case 25:
                            $("#hdgl").addClass("layui-nav-itemed");
                            $("#select_saler").addClass("layui-this");
                            break;
                        case 26:
                            $("#hdgl").addClass("layui-nav-itemed");
                            $("#insert_system").addClass("layui-this");
                            break;
                        case 27:
                            $("#hdgl").addClass("layui-nav-itemed");
                            $("#select_system").addClass("layui-this");
                            break;
                        case 28:
                            $("#hdgl").addClass("layui-nav-itemed");
                            $("#insert_store").addClass("layui-this");
                            break;
                        case 29:
                            $("#hdgl").addClass("layui-nav-itemed");
                            $("#select_store").addClass("layui-this");
                            break;
                            //销售报表
                        case 30:
                            $("#xsbb").addClass("layui-nav-itemed");
                            $("#select_dingdan").addClass("layui-this");
                            break;
                        case 31:
                            $("#xsbb").addClass("layui-nav-itemed");
                            $("#select_chuhuo").addClass("layui-this");
                            break;
                        case 32:
                            $("#xsbb").addClass("layui-nav-itemed");
                            $("#select_kaipiao").addClass("layui-this");
                            break;
                            //系统设置
                        case 33:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#set_department").addClass("layui-this");
                            break;
                        case 34:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#set_job").addClass("layui-this");
                            break;
                        case 35:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#set_user").addClass("layui-this");
                            break;
                        case 36:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#set_role").addClass("layui-this");
                            break;
                        case 37:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#set_data").addClass("layui-this");
                            break;
                        case 38:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#selete_log").addClass("layui-this");
                            break;
                        case 39:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#set_function").addClass("layui-this");
                            break;
                        case 40:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#set_system").addClass("layui-this");
                            break;
                        case 41:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#change_pwd").addClass("layui-this");
                            break;
                        case 52:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#set_rili").addClass("layui-this");
                            break;
                        case 53:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#set_banzu").addClass("layui-this");
                            break;
                        case 54:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#set_pinci").addClass("layui-this");
                            break;
                        case 55:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#set_xsqy").addClass("layui-this");
                            break;
                        case 61:
                            $("#xtgl").addClass("layui-nav-itemed");
                            $("#set_khlx").addClass("layui-this");
                            break;
                            //防窜货
                        case 66:
                            $("#fchgl").addClass("layui-nav-itemed");
                            $("#insert_pm").addClass("layui-this");
                            break;
                        case 67:
                            $("#fchgl").addClass("layui-nav-itemed");
                            $("#select_pm").addClass("layui-this");
                            break;
                            //MES
                        case 100:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#DataGather").addClass("layui-this");
                            break;
                        case 101:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#FactoryManage").addClass("layui-this");
                            break;
                        case 102:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#WorkCenter").addClass("layui-this");
                            break;
                        case 103:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#DeviceManage").addClass("layui-this");
                            break;
                        case 104:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#WorkCenterRole").addClass("layui-this");
                            break;
                        case 105:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#PositionRole").addClass("layui-this");
                            break;
                        case 106:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#DepotRole").addClass("layui-this");
                            break;
                        case 107:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#Formula_Order").addClass("layui-this");
                            break;
                        case 108:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#QuantityManage").addClass("layui-this");
                            break;
                        case 109:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#Material_Group").addClass("layui-this");
                            break;
                        case 110:
                            $("#mesgdzp").addClass("layui-nav-itemed");
                            $("#Assign_WorkOrder").addClass("layui-this");
                            break;
                        case 111:
                            $("#mesgdzp").addClass("layui-nav-itemed");
                            $("#CREATE_WorkOrder").addClass("layui-this");
                            break;
                        case 115:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#Material").addClass("layui-this");
                            break;
                        case 116:
                            $("#mesgdzp").addClass("layui-nav-itemed");
                            $("#FJ").addClass("layui-this");
                            break;
                        case 117:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#StaffManage").addClass("layui-this");
                            break;
                        case 118:
                            $("#mestmgl").addClass("layui-nav-itemed");
                            $("#ReplaceBZ").addClass("layui-this");
                            break;
                        case 119:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#PJCOUNT").addClass("layui-this");
                            break;
                        case 120:
                            $("#mesxtsz").addClass("layui-nav-itemed");
                            $("#SBSelect").addClass("layui-this");
                            break;
                        case 150:
                            $("#mesgdzp").addClass("layui-nav-itemed");
                            $("#RW_SELECT").addClass("layui-this");
                            break;
                        case 151:
                            $("#messelect").addClass("layui-nav-itemed");
                            $("#TMGL_SELECT").addClass("layui-this");
                            break;
                        case 152:
                            $("#messelect").addClass("layui-nav-itemed");
                            $("#PD_TL_ERROR").addClass("layui-this");
                            break;
                        case 153:
                            $("#mestmgl").addClass("layui-nav-itemed");
                            $("#DepositBattery").addClass("layui-this");
                            break;
                        case 154:
                            $("#messelect").addClass("layui-nav-itemed");
                            $("#PD_TL_SELECT").addClass("layui-this");
                            break;
                        case 155:
                            $("#messelect").addClass("layui-nav-itemed");
                            $("#PD_SCRW_SELECT_FJ").addClass("layui-this");
                            break;
                        case 156:
                            $("#mesgdzp").addClass("layui-nav-itemed");
                            $("#RW_SELECT_ALL").addClass("layui-this");
                            break;
                        case 200:
                            $("#psljbg").addClass("layui-nav-itemed");
                            $("#QualifiedPart").addClass("layui-this");
                            break;
                        default:
                            break;
                    }
                });
            </script>
            @RenderBody()

        </div>
        @Scripts.Render("~/bundles/layui/layui")
        @Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/bundles/PS/main")
        @RenderSection("scripts", required: false)
    </body>
</html>
